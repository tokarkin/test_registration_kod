{"ast":null,"code":"import{usersApi}from\"../Api/api\";import{getPositions,getUsers,clearUsers,getMoreUsers,getErrors}from\"../redux/users-reducer\";import{reset}from'redux-form';export var getUsersThunk=function getUsersThunk(pageNumber,totalUser){return function(dispatch){usersApi.getUsers(pageNumber,totalUser).then(function(data){dispatch(getUsers(data.data.users));});};};export var getMoreUsersThunk=function getMoreUsersThunk(pageNumber,totalUser){return function(dispatch){usersApi.getUsers(pageNumber,totalUser).then(function(data){dispatch(getMoreUsers(data.data.users));});};};export var getPosition=function getPosition(){return function(dispatch){usersApi.getPositions().then(function(data){dispatch(getPositions(data.data.positions));});};};export var clearUser=function clearUser(){return function(dispatch){usersApi.getUsers(1,6).then(function(data){dispatch(clearUsers(data.data.users));console.log(data.data.users);});};};export var pushDataOfUserOnServer=function pushDataOfUserOnServer(body){return function(dispatch){usersApi.getToken().then(function(token){console.log(token.data.token);var form_data=new FormData();Object.keys(body).forEach(function(item){form_data.append(item,body[item]);});fetch('https://frontend-test-assignment-api.abz.agency/api/v1/users',{method:'POST',body:form_data,headers:{'Token':token.data.token}}).then(function(response){dispatch(getErrors(response));usersApi.getUsers().then(function(data){dispatch(getUsers(data.data.users));});dispatch(reset('registration'));});});};};","map":{"version":3,"sources":["C:/Users/dimak/Desktop/courses/src/thunk/usersThunk.js"],"names":["usersApi","getPositions","getUsers","clearUsers","getMoreUsers","getErrors","reset","getUsersThunk","pageNumber","totalUser","dispatch","then","data","users","getMoreUsersThunk","getPosition","positions","clearUser","console","log","pushDataOfUserOnServer","body","getToken","token","form_data","FormData","Object","keys","forEach","item","append","fetch","method","headers","response"],"mappings":"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","sourcesContent":["import {usersApi} from \"../Api/api\";\nimport {getPositions, getUsers, clearUsers, getMoreUsers, getErrors} from \"../redux/users-reducer\";\nimport {reset} from 'redux-form';\n\nexport const getUsersThunk  = (pageNumber,totalUser) => {\n    return(dispatch) => {\n        usersApi.getUsers(pageNumber,totalUser).then(data =>{\n            dispatch(getUsers(data.data.users));\n        });\n\n    }\n};\nexport const getMoreUsersThunk  = (pageNumber,totalUser) => {\n    return(dispatch) => {\n        usersApi.getUsers(pageNumber,totalUser).then(data =>{\n            dispatch(getMoreUsers(data.data.users));\n        });\n\n    }\n};\n\n\n\nexport const getPosition = ()=>{\n    return(dispatch) =>{\n        usersApi.getPositions().then(data =>{\n            dispatch(getPositions(data.data.positions))\n        })\n    }\n};\n\nexport  const clearUser = ()=>{\n    return(dispatch) =>{\n        usersApi.getUsers(1,6).then(data =>{\n            dispatch(clearUsers(data.data.users));\n            console.log(data.data.users);\n        });\n    }\n};\n\nexport const pushDataOfUserOnServer = (body)=>{\n    return(dispatch) =>{\n        usersApi.getToken().then(token=> {\n            console.log(token.data.token)\n            const form_data = new FormData();\n            Object.keys(body).forEach(item => { form_data.append(item, body[item]); });\n            fetch('https://frontend-test-assignment-api.abz.agency/api/v1/users',{\n                method: 'POST',\n                body: form_data,\n                headers: {\n                    'Token': token.data.token,\n                },\n            }).then(response=> {\n                dispatch(getErrors(response));\n                usersApi.getUsers().then(data =>{\n                    dispatch(getUsers(data.data.users));\n                });\n                dispatch(reset('registration'))\n            });\n        })\n    }\n};"]},"metadata":{},"sourceType":"module"}
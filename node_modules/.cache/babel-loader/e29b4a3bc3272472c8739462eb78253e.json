{"ast":null,"code":"import { usersApi } from \"../Api/api\";\nimport { getPositions, getUsers, clearUsers, getMoreUsers, getErrors } from \"../redux/users-reducer\";\nimport { reset } from 'redux-form';\nexport const getUsersThunk = (pageNumber, totalUser) => {\n  return dispatch => {\n    usersApi.getUsers(pageNumber, totalUser).then(data => {\n      dispatch(getUsers(data.data.users));\n    });\n  };\n};\nexport const getMoreUsersThunk = (pageNumber, totalUser) => {\n  return dispatch => {\n    usersApi.getUsers(pageNumber, totalUser).then(data => {\n      dispatch(getMoreUsers(data.data.users));\n    });\n  };\n};\nexport const getPosition = () => {\n  return dispatch => {\n    usersApi.getPositions().then(data => {\n      dispatch(getPositions(data.data.positions));\n    });\n  };\n};\nexport const clearUser = () => {\n  return dispatch => {\n    usersApi.getUsers(1, 6).then(data => {\n      dispatch(clearUsers(data.data.users));\n      console.log(data.data.users);\n    });\n  };\n};\nexport const pushDataOfUserOnServer = body => {\n  return dispatch => {\n    usersApi.getToken().then(token => {\n      console.log(token.data.token);\n      const form_data = new FormData();\n      Object.keys(body).forEach(item => {\n        form_data.append(item, body[item]);\n      });\n      fetch('https://frontend-test-assignment-api.abz.agency/api/v1/users', {\n        method: 'POST',\n        body: form_data,\n        headers: {\n          'Token': token.data.token\n        }\n      }).then(response => {\n        dispatch(getErrors(response));\n        usersApi.getUsers().then(data => {\n          dispatch(getUsers(data.data.users));\n        });\n        dispatch(reset('registration'));\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/dimak/Desktop/courses/src/thunk/usersThunk.js"],"names":["usersApi","getPositions","getUsers","clearUsers","getMoreUsers","getErrors","reset","getUsersThunk","pageNumber","totalUser","dispatch","then","data","users","getMoreUsersThunk","getPosition","positions","clearUser","console","log","pushDataOfUserOnServer","body","getToken","token","form_data","FormData","Object","keys","forEach","item","append","fetch","method","headers","response"],"mappings":"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","sourcesContent":["import {usersApi} from \"../Api/api\";\nimport {getPositions, getUsers, clearUsers, getMoreUsers, getErrors} from \"../redux/users-reducer\";\nimport {reset} from 'redux-form';\n\nexport const getUsersThunk  = (pageNumber,totalUser) => {\n    return(dispatch) => {\n        usersApi.getUsers(pageNumber,totalUser).then(data =>{\n            dispatch(getUsers(data.data.users));\n        });\n\n    }\n};\nexport const getMoreUsersThunk  = (pageNumber,totalUser) => {\n    return(dispatch) => {\n        usersApi.getUsers(pageNumber,totalUser).then(data =>{\n            dispatch(getMoreUsers(data.data.users));\n        });\n\n    }\n};\n\n\n\nexport const getPosition = ()=>{\n    return(dispatch) =>{\n        usersApi.getPositions().then(data =>{\n            dispatch(getPositions(data.data.positions))\n        })\n    }\n};\n\nexport  const clearUser = ()=>{\n    return(dispatch) =>{\n        usersApi.getUsers(1,6).then(data =>{\n            dispatch(clearUsers(data.data.users));\n            console.log(data.data.users);\n        });\n    }\n};\n\nexport const pushDataOfUserOnServer = (body)=>{\n    return(dispatch) =>{\n        usersApi.getToken().then(token=> {\n            console.log(token.data.token)\n            const form_data = new FormData();\n            Object.keys(body).forEach(item => { form_data.append(item, body[item]); });\n            fetch('https://frontend-test-assignment-api.abz.agency/api/v1/users',{\n                method: 'POST',\n                body: form_data,\n                headers: {\n                    'Token': token.data.token,\n                },\n            }).then(response=> {\n                dispatch(getErrors(response));\n                usersApi.getUsers().then(data =>{\n                    dispatch(getUsers(data.data.users));\n                });\n                dispatch(reset('registration'))\n            });\n        })\n    }\n};"]},"metadata":{},"sourceType":"module"}
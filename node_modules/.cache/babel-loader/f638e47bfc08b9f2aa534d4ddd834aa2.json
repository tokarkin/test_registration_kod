{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _validators = _interopRequireDefault(require(\"./validators\"));\n\nvar _helpers = require(\"./helpers\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n} // eslint-disable-next-line no-useless-escape\n\n\nvar REG_EMAIL = /^[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+)*@((?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)$/i;\nvar email = (0, _helpers.memoize)(function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      domainWhitelist = _ref.domainWhitelist,\n      domainBlacklist = _ref.domainBlacklist,\n      message = _ref.message,\n      msg = _ref.msg,\n      ifCond = _ref[\"if\"],\n      unless = _ref.unless,\n      allowBlank = _ref.allowBlank;\n\n  msg = msg || message;\n  domainWhitelist = prepareList(domainWhitelist);\n  domainBlacklist = prepareList(domainBlacklist);\n  return (0, _helpers.prepare)(ifCond, unless, allowBlank, function (value) {\n    var match = value.match(REG_EMAIL);\n\n    if (!match) {\n      return _validators[\"default\"].formatMessage((0, _helpers.prepareMsg)(msg, 'email', 'invalid'));\n    }\n\n    var domain = match[1].toLowerCase();\n\n    if (domainWhitelist && !domainInList(domain, domainWhitelist) || domainBlacklist && domainInList(domain, domainBlacklist)) {\n      return _validators[\"default\"].formatMessage((0, _helpers.prepareMsg)(msg, 'emailDomain', 'domain', {\n        domain: domain\n      }));\n    }\n  });\n});\nemail.REG_EMAIL = REG_EMAIL;\nvar _default = email; // private\n\nexports[\"default\"] = _default;\n\nfunction domainInList(domain, list) {\n  return list.some(function (d) {\n    return typeof d === 'string' ? d === domain : d.test(domain);\n  });\n}\n\nfunction prepareList(list) {\n  return list ? list.map(function (d) {\n    return d.indexOf('*') < 0 ? d.toLowerCase() : (0, _helpers.stringToReg)(d);\n  }) : list;\n}","map":{"version":3,"sources":["C:/Users/dimak/Desktop/courses/node_modules/redux-form-validators/lib/email.js"],"names":["Object","defineProperty","exports","value","_validators","_interopRequireDefault","require","_helpers","obj","__esModule","REG_EMAIL","email","memoize","_ref","arguments","length","undefined","domainWhitelist","domainBlacklist","message","msg","ifCond","unless","allowBlank","prepareList","prepare","match","formatMessage","prepareMsg","domain","toLowerCase","domainInList","_default","list","some","d","test","map","indexOf","stringToReg"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _validators = _interopRequireDefault(require(\"./validators\"));\n\nvar _helpers = require(\"./helpers\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// eslint-disable-next-line no-useless-escape\nvar REG_EMAIL = /^[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+)*@((?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)$/i;\nvar email = (0, _helpers.memoize)(function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      domainWhitelist = _ref.domainWhitelist,\n      domainBlacklist = _ref.domainBlacklist,\n      message = _ref.message,\n      msg = _ref.msg,\n      ifCond = _ref[\"if\"],\n      unless = _ref.unless,\n      allowBlank = _ref.allowBlank;\n\n  msg = msg || message;\n  domainWhitelist = prepareList(domainWhitelist);\n  domainBlacklist = prepareList(domainBlacklist);\n  return (0, _helpers.prepare)(ifCond, unless, allowBlank, function (value) {\n    var match = value.match(REG_EMAIL);\n\n    if (!match) {\n      return _validators[\"default\"].formatMessage((0, _helpers.prepareMsg)(msg, 'email', 'invalid'));\n    }\n\n    var domain = match[1].toLowerCase();\n\n    if (domainWhitelist && !domainInList(domain, domainWhitelist) || domainBlacklist && domainInList(domain, domainBlacklist)) {\n      return _validators[\"default\"].formatMessage((0, _helpers.prepareMsg)(msg, 'emailDomain', 'domain', {\n        domain: domain\n      }));\n    }\n  });\n});\nemail.REG_EMAIL = REG_EMAIL;\nvar _default = email; // private\n\nexports[\"default\"] = _default;\n\nfunction domainInList(domain, list) {\n  return list.some(function (d) {\n    return typeof d === 'string' ? d === domain : d.test(domain);\n  });\n}\n\nfunction prepareList(list) {\n  return list ? list.map(function (d) {\n    return d.indexOf('*') < 0 ? d.toLowerCase() : (0, _helpers.stringToReg)(d);\n  }) : list;\n}"]},"metadata":{},"sourceType":"script"}